<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, viewport-fit=cover, interactive-widget=resizes-content">
    <meta name="description"
        content="tickyourbudget â€” A lightweight, offline-first monthly budget checklist PWA. Track recurring expenses, manage categories, and check off payments.">
    <meta name="keywords" content="budget, checklist, PWA, expense tracker, monthly budget, offline">
    <meta name="author" content="tickyourbudget">
    <meta name="theme-color" content="#a78bfa">

    <!-- Open Graph -->
    <meta property="og:title" content="tickyourbudget">
    <meta property="og:description"
        content="A lightweight, offline-first monthly budget checklist. Track recurring expenses and check off payments.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="icons/icon-512.png">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <title>tickyourbudget</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <!-- ===== App Header ===== -->
    <header class="app-header">
        <span class="app-header__title">tickyourbudget</span>
        <div class="app-header__actions">
            <div class="profile-selector">
                <select id="profileSelect" aria-label="Select Profile">
                    <option value="">No profiles</option>
                </select>
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5" />
                    <line x1="12" y1="1" x2="12" y2="3" />
                    <line x1="12" y1="21" x2="12" y2="23" />
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                    <line x1="1" y1="12" x2="3" y2="12" />
                    <line x1="21" y1="12" x2="23" y2="12" />
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                    <line x1="18.36" y1="4.22" x2="19.78" y2="5.64" />
                </svg>
                <svg class="icon-moon hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                </svg>
            </button>
        </div>
    </header>

    <!-- ===== Toast Container ===== -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ===== Main Content ===== -->
    <main class="app-content">

        <!-- Home View -->
        <section class="view active" id="viewHome" aria-label="Home - Transactions">
            <nav class="month-nav">
                <button class="month-nav__btn" id="btnPrevMonth" aria-label="Previous month">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6" />
                    </svg>
                </button>
                <span class="month-nav__label" id="monthLabel"></span>
                <button class="month-nav__btn" id="btnNextMonth" aria-label="Next month">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 6 15 12 9 18" />
                    </svg>
                </button>
                <button class="month-nav__today" id="btnToday">Today</button>
            </nav>

            <!-- Search Bar -->
            <div class="search-bar">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8" />
                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                </svg>
                <input type="text" id="homeSearch" placeholder="Search transactions..."
                    aria-label="Search transactions">
            </div>

            <div class="summary-bar" id="summaryBar">
                <div class="summary-card summary-card--total">
                    <div class="summary-card__label">Total</div>
                    <div class="summary-card__value" id="summaryTotal">$0.00</div>
                </div>
                <div class="summary-card summary-card--paid">
                    <div class="summary-card__label">Paid</div>
                    <div class="summary-card__value" id="summaryPaid">$0.00</div>
                </div>
                <div class="summary-card summary-card--pending">
                    <div class="summary-card__label">Pending</div>
                    <div class="summary-card__value" id="summaryPending">$0.00</div>
                </div>
                <button class="summary-chart-btn hidden" id="btnShowChart" aria-label="Show category chart">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21.21 15.89A10 10 0 1 1 8 2.83" />
                        <path d="M22 12A10 10 0 0 0 12 2v10z" />
                    </svg>
                </button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar-wrapper" id="progressWrapper">
                <div class="progress-bar">
                    <div class="progress-bar__fill" id="progressFill"></div>
                </div>
                <div class="progress-bar__label" id="progressLabel">0% paid</div>
            </div>

            <!-- Month Comparison -->
            <div class="month-comparison hidden" id="monthComparison"></div>

            <ul class="checklist" id="checklistContainer"></ul>
            <div class="empty-state hidden" id="emptyHome">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 11l3 3L22 4" />
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
                </svg>
                <div class="empty-state__title">No transactions this month</div>
                <div class="empty-state__desc">Add budget items in the Items tab to get started.</div>
            </div>

        </section>

        <!-- Items View -->
        <section class="view" id="viewItems" aria-label="Budget Items">
            <div class="search-bar">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8" />
                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                </svg>
                <input type="text" id="itemsSearch" placeholder="Search items..." aria-label="Search items">
            </div>
            <div class="card-list" id="itemsContainer"></div>
            <div class="empty-state hidden" id="emptyItems">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="3" width="20" height="18" rx="2" />
                    <line x1="8" y1="9" x2="16" y2="9" />
                    <line x1="8" y1="13" x2="12" y2="13" />
                </svg>
                <div class="empty-state__title">No budget items yet</div>
                <div class="empty-state__desc">Tap the + button to add your first recurring budget item.</div>
            </div>
            <button class="fab" id="fabAddItem" aria-label="Add budget item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
            </button>
        </section>

        <!-- Categories View -->
        <section class="view" id="viewCategories" aria-label="Categories">
            <ul class="category-tree" id="categoriesContainer"></ul>
            <div class="empty-state hidden" id="emptyCategories">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />
                </svg>
                <div class="empty-state__title">No categories yet</div>
                <div class="empty-state__desc">Tap the + button to organize your budget with categories.</div>
            </div>
            <button class="fab" id="fabAddCategory" aria-label="Add category">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
            </button>
        </section>

        <!-- Profiles View -->
        <section class="view" id="viewProfiles" aria-label="Profiles">
            <div class="profiles-view" id="profilesViewContainer"></div>
            <button class="fab" id="fabAddProfile" aria-label="Add profile">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
            </button>
        </section>

        <!-- Config View (formerly Data) -->
        <section class="view" id="viewConfig" aria-label="Config">
            <div class="data-section">
                <div class="data-section__title">Currency</div>
                <div class="form-group">
                    <label for="currencySelect">Display Currency</label>
                    <select id="currencySelect"></select>
                </div>
            </div>
            <div class="data-section">
                <div class="data-section__title">JSON Preview</div>
                <textarea class="json-preview" id="jsonPreview" readonly></textarea>
            </div>
            <div class="data-section">
                <div class="data-section__title">Export</div>
                <div class="data-actions">
                    <button class="btn btn--secondary btn--sm" id="btnCopyJson">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                        </svg>
                        Copy to Clipboard
                    </button>
                    <button class="btn btn--secondary btn--sm" id="btnDownloadJson">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="7 10 12 15 17 10" />
                            <line x1="12" y1="15" x2="12" y2="3" />
                        </svg>
                        Download .json
                    </button>
                    <button class="btn btn--secondary btn--sm" id="btnDownloadCsv">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                        </svg>
                        Download .csv
                    </button>
                </div>
            </div>
            <div class="data-section">
                <div class="data-section__title">Import</div>
                <div class="data-actions">
                    <button class="btn btn--secondary btn--sm" id="btnImportFile">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                        Import from File
                    </button>
                    <button class="btn btn--secondary btn--sm" id="btnImportPaste">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1" />
                        </svg>
                        Paste JSON
                    </button>
                </div>
                <input type="file" id="importFileInput" accept=".json" class="hidden">
            </div>
            <div class="data-section">
                <div class="data-section__title">Tools</div>
                <div class="data-actions">
                    <button class="btn btn--secondary btn--sm" id="btnLoadSample">Load Sample Data</button>
                    <button class="btn btn--danger btn--sm" id="btnClearData">Clear All Data</button>
                </div>
            </div>
        </section>

    </main>

    <!-- ===== Bottom Navigation ===== -->
    <nav class="bottom-nav" aria-label="Main navigation">
        <button class="nav-item active" data-view="viewHome" aria-label="Home">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 11l3 3L22 4" />
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
            </svg>
            <span>Home</span>
        </button>
        <button class="nav-item" data-view="viewItems" aria-label="Items">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="3" width="20" height="18" rx="2" />
                <line x1="8" y1="9" x2="16" y2="9" />
                <line x1="8" y1="13" x2="12" y2="13" />
            </svg>
            <span>Items</span>
        </button>
        <button class="nav-item" data-view="viewCategories" aria-label="Categories">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />
            </svg>
            <span>Categories</span>
        </button>
        <button class="nav-item" data-view="viewProfiles" aria-label="Profiles">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
            </svg>
            <span>Profiles</span>
        </button>
        <button class="nav-item" data-view="viewConfig" aria-label="Config">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3" />
                <path
                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
            </svg>
            <span>Config</span>
        </button>
    </nav>

    <!-- ===== Modal Container ===== -->
    <div id="modalContainer"></div>

    <!-- ===== Keyboard Shortcuts Help ===== -->
    <div class="shortcuts-overlay hidden" id="shortcutsOverlay">
        <div class="shortcuts-box">
            <div class="shortcuts-box__title">Keyboard Shortcuts</div>
            <div class="shortcuts-grid">
                <kbd>1</kbd><span>Home</span>
                <kbd>2</kbd><span>Items</span>
                <kbd>3</kbd><span>Categories</span>
                <kbd>4</kbd><span>Profiles</span>
                <kbd>5</kbd><span>Config</span>
                <kbd>&larr;</kbd><span>Previous month</span>
                <kbd>&rarr;</kbd><span>Next month</span>
                <kbd>T</kbd><span>Go to today</span>
                <kbd>N</kbd><span>New item / category</span>
                <kbd>/</kbd><span>Focus search</span>
                <kbd>?</kbd><span>Show shortcuts</span>
                <kbd>Esc</kbd><span>Dismiss</span>
            </div>
        </div>
    </div>

    <!-- ===== Scripts ===== -->
    <script type="module" src="js/app.js"></script>
</body>

</html>